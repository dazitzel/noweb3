<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>4.8 Error Handling</TITLE>
</HEAD>
<BODY LANG="EN">
 <HR>
<B> Next:</B> <A HREF="node13.html">5 The Application Program </A>
<B>Up:</B> <A HREF="node4.html">4 The Language</A>
<B> Previous:</B> <A HREF="node11.html">4.7 Fallbacks</A>
<HR>
<H2><A NAME="S480">4.8 Error Handling</A></H2>
 <A NAME="error"></A>
<P>
Because Lua is an extension language,
all Lua actions start from C code calling a function from the Lua library.
Whenever an error occurs during Lua compilation or execution,
an ``error'' fallback function is called,
and then the corresponding function from the library
(<TT><B>lua_dofile</B></TT>, <TT><B>lua_dostring</B></TT>,
<TT><B>lua_call</B></TT>, or <TT><B>lua_callfunction</B></TT>)
is terminated returning an error condition.
<P>
The only argument to the ``error'' fallback function is a string
describing the error.
The standard I/O library redefines this fallback,
using the debug facilities (see Section&nbsp;<A HREF="node25.html#debugI">7</A>),
in order to print some extra information,
like the call stack.
For more information about an error,
the Lua program can include the compilation pragma <TT><B>$debug</B></TT>.
<A NAME="288"></A><A NAME="pragma"></A>
This pragma must be written in a line by itself.
When an error occurs in a program compiled with this option,
the error routine is able to print also the lines where the calls
(and the error) were made.
If needed, it is possible to change the ``error'' fallback handler
(see Section&nbsp;<A HREF="node11.html#fallback">4.7</A>).
<P>
Lua code can explicitly generate an error by calling the built-in
function <TT><B>error</B></TT> (see Section&nbsp;<A HREF="node21.html#pdferror">6.1</A>).
<P>
<HR>
<B> Next:</B> <A HREF="node13.html">5 The Application Program </A>
<B>Up:</B> <A HREF="node4.html">4 The Language</A>
<B> Previous:</B> <A HREF="node11.html">4.7 Fallbacks</A>
<HR>
</BODY>
